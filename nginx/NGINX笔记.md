# NGINX笔记

# 1. NGINX基础

来看一段百度百科的解释：

```markdown
Nginx (engine x) 是一个高性能的HTTP和反向代理web服务器 [13]，同时也提供了IMAP/POP3/SMTP服务。Nginx是由伊戈尔·赛索耶夫为俄罗斯访问量第二的Rambler.ru站点（俄文：Рамблер）开发的，公开版本1.19.6发布于2020年12月15日。 [11]
其将源代码以类BSD许可证的形式发布，因它的稳定性、丰富的功能集、简单的配置文件和低系统资源的消耗而闻名。2022年01月25日，nginx 1.21.6发布。 [12]
Nginx是一款轻量级的Web 服务器/反向代理服务器及电子邮件（IMAP/POP3）代理服务器，在BSD-like 协议下发行。其特点是占有内存少，并发能力强，事实上nginx的并发能力在同类型的网页服务器中表现较好。
```

优点：

```tex
Nginx 可以在大多数 Unix Linux OS 上编译运行，并有 Windows 移植版。 Nginx 的1.20.0稳定版已经于2021年4月20日发布，一般情况下，对于新建站点，建议使用最新稳定版作为生产版本，已有站点的升级急迫性不高。Nginx 的源代码使用 2-clause BSD-like license。
Nginx 是一个很强大的高性能Web和反向代理服务，它具有很多非常优越的特性：
在连接高并发的情况下，Nginx是Apache服务不错的替代品：Nginx在美国是做虚拟主机生意的老板们经常选择的软件平台之一。能够支持高达 50,000 个并发连接数的响应，感谢Nginx为大家选择了 epoll and kqueue作为开发模型。

10,000 非活动的 HTTP keep-alive 连接仅需要 2.5M内存。
```

- Nginx到底是什么呢？

  - Nginx是一个高性能的HTTP和反向代理的WEB服务器，特点是内存占用少，并发能力强。

- Ngninx又能做什么事情？

  - HTTP服务器（WEB服务器）

    性能非常的好，非常注重效率，能够经受高负载的考验。

    支持50000的并发连接数，不仅如此，CPU和内存的占用也非常的低，10000个没非活动的连接仅占用2.5M的内存。

  - 反向代理服务器。

    - 正向代理

  在浏览器中配制代理服务器的相关信息，通过代理服务器访问目标网站，代理服务器收到目标网站的响应之后，会把响应信息返回给我们自己的浏览器客户端。

  ![image-20241222095027768](.\images\image-20241222095027768.png)

  

  - 反向代理

  浏览器客户端发送请求到反向代理服务器（Nginx),由反向代理服务器选择原始服务器提供服务获取结果响应，最终再返回给客户端。

  ![image-20241222095526525](.\images\image-20241222095526525.png)

当我们只有一台服务器对外提供服务的时候，直接访问这台服务器即可，当我们的业务增长扩展了很多倍，原来一台服务器再也承载不下的时候，就会扩展到N台服务器，这时候，就需要用到反向代理。

针对反向代理：

1. 客户端浏览器不需要任何配制。
2. 对于客户端的浏览器来说，提供服务的原始服务器是不可见的。
3. 对于后端的服务，此时nginx+服务算作一个整体的服务端。

- 负载均衡服务器

负载均衡，当一个请求来到的时候，Nginx反向代理服务器根据请求去找到一个原始服务器来处理当前请求，这就叫反向代理。如果目标服务器有多台。找到哪一台目标服务器来处理当前请求呢？这个寻找的过程就叫做负载均衡。

负载均衡就是为了解决高负载的问题。

- 动静分离

![image-20241222100900689](.\images\image-20241222100900689.png)

不在使用动静分离时，HTML、js、CSS、jpg、png等静态的资源也被打开了我们的服务器上，而像我们的Tomcat这类服务器软件在处理静态资源时，普通的性能不高。

![image-20241222101352651](.\images\image-20241222101352651.png)

当我们使用了动静分离之后，由静态资源交给Nginx处理，动态资源交给原来的服务器，这样各司其职，都在各息最擅长的领域做最擅长的事情，这样的效率最高。

- NGinx特点

1. 跨平台：Nginx可以在⼤多数类unix操作系统上编译运⾏，⽽且也有windows版本
2. Nginx上手非常容易，配制也比较简单
3. 高并发，性能好
4. 稳定性特别好，宕机概率很低。

**nginx的安装**

```sh
# nginx包下载
https://github.com/nginx/nginx/archive/refs/tags/release-1.17.8.tar.gz

# 安装依赖

```







